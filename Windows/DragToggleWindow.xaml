<Window x:Class="DeskWarrior.Windows.DragToggleWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="DragToggle" Height="32" Width="32"
        WindowStyle="None" ResizeMode="NoResize"
        Background="Transparent" AllowsTransparency="True"
        Topmost="True" ShowInTaskbar="False"
        Opacity="0">

    <Window.Resources>
        <!-- 슬라이드 + 페이드 인 애니메이션 -->
        <Storyboard x:Key="ShowAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                           From="0" To="1" Duration="0:0:0.2">
                <DoubleAnimation.EasingFunction>
                    <QuadraticEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetName="SlideTransform"
                           Storyboard.TargetProperty="X"
                           From="20" To="0" Duration="0:0:0.25">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>

        <!-- 슬라이드 + 페이드 아웃 애니메이션 -->
        <Storyboard x:Key="HideAnimation">
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                           From="1" To="0" Duration="0:0:0.15">
                <DoubleAnimation.EasingFunction>
                    <QuadraticEase EasingMode="EaseIn"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
            <DoubleAnimation Storyboard.TargetName="SlideTransform"
                           Storyboard.TargetProperty="X"
                           From="0" To="15" Duration="0:0:0.15">
                <DoubleAnimation.EasingFunction>
                    <QuadraticEase EasingMode="EaseIn"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>

        <!-- 잠금 아이콘 Path 데이터 -->
        <Geometry x:Key="LockIconPath">M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1A5,5 0 0,1 17,6V8H18M12,3A3,3 0 0,0 9,6V8H15V6A3,3 0 0,0 12,3Z</Geometry>

        <!-- 해제 아이콘 Path 데이터 -->
        <Geometry x:Key="UnlockIconPath">M12,17A2,2 0 0,0 14,15C14,13.89 13.1,13 12,13A2,2 0 0,0 10,15A2,2 0 0,0 12,17M18,8A2,2 0 0,1 20,10V20A2,2 0 0,1 18,22H6A2,2 0 0,1 4,20V10C4,8.89 4.9,8 6,8H7V6A5,5 0 0,1 12,1C13.7,1 15.2,1.9 16.2,3.2L14.8,4.6C14.2,3.6 13.2,3 12,3A3,3 0 0,0 9,6V8H18Z</Geometry>
    </Window.Resources>

    <Border x:Name="ToggleBorder"
            Background="#DD222233"
            BorderBrush="#666" BorderThickness="1"
            CornerRadius="6"
            Cursor="Hand"
            ToolTip="드래그 모드 전환 (F1)"
            MouseLeftButtonDown="Border_MouseLeftButtonDown"
            MouseLeftButtonUp="Border_MouseLeftButtonUp"
            MouseMove="Border_MouseMove"
            RenderTransformOrigin="0.5,0.5">

        <Border.RenderTransform>
            <TranslateTransform x:Name="SlideTransform" X="20"/>
        </Border.RenderTransform>

        <Path x:Name="LockIcon"
              Data="{StaticResource UnlockIconPath}"
              Fill="#E8D03F"
              Stretch="Uniform"
              Width="16" Height="16"
              HorizontalAlignment="Center"
              VerticalAlignment="Center"/>
    </Border>
</Window>
