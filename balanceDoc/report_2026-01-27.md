# DeskWarrior 밸런스 분석 리포트
**분석일:** 2026-01-27
**분석자:** Game Balance Analyst Agent
**버전:** v1.0

---

## 요약 (Executive Summary)

### 현재 밸런스 상태
**전체 등급:** 🟡 **C (개선 필요)**

| 평가 항목 | 등급 | 상세 |
|----------|------|------|
| 초반 진입성 (Lv1~20) | 🟢 A | 매우 좋음 - 필요 CPS < 2 |
| 중반 밸런스 (Lv20~30) | 🟡 C | Lv30 벽 존재 (CPS 7.49) |
| 후반 설계 (Lv40+) | 🟢 A | 정상 - 업그레이드 필요 (의도된 설계) |
| 스탯 효율 균형 | 🔴 D | `base_attack` 효율 20배 이상 차이 |
| 골드 경제 | 🟡 C | 후반 그라인딩 부담 증가 |
| 크리스탈 경제 | 🟡 C | 획득 난이도 다소 높음 |

### 핵심 문제점 (3가지)
1. **Critical**: `base_attack` 효율이 다른 스탯 대비 20배 이상 높음 → 선택 다양성 부재
2. **High**: Lv30 보스 필요 CPS 7.49 → Lv20 대비 4배 급증 (난이도 벽)
3. **Medium**: 크리스탈 획득 난이도 과다 (Lv10 한 스탯에 240~1,460 스테이지)

---

## 1. 비용 곡선 분석

### 1.1 인게임 업그레이드 (키보드 + 마우스)

| 레벨 | 다음 업글 비용 (KB+MS) | 누적 총 비용 | 총 파워 | 레벨당 평균 비용 |
|------|----------------------|-------------|---------|----------------|
| Lv 1 | 30G | 30G | 2 | 30G |
| Lv 5 | 84G | 282G | 10 | 56G |
| Lv 10 | 180G | 978G | 20 | 98G |
| Lv 20 | 494G | 4,336G | 40 | 217G |
| Lv 30 | 1,080G | 12,208G | 60 | 407G |
| Lv 40 | 2,126G | 28,266G | 80 | 707G |
| Lv 50 | 3,948G | 58,728G | 100 | 1,175G |

**특징:**
- 비용 공식: `base_cost × (1 + level × growth_rate) × multiplier^(level / softcap_interval)`
- `multiplier=1.5`, `softcap_interval=10`
- Lv10마다 비용이 약 1.5배씩 급증
- Lv50까지 총 58,728G 필요

**평가:** 🟢 적절한 곡선 - 후반 가속도가 있으나 극단적이지 않음

---

### 1.2 영구 업그레이드 (주요 전투 스탯)

#### base_attack (기본 공격력)
| 레벨 | 다음 비용 | 누적 비용 | 총 효과 | 효율 (효과/비용) |
|------|----------|----------|---------|----------------|
| Lv 1 | 1.0C | 1.0C | +1 | 1.0000 |
| Lv 10 | 4.0C | 24.0C | +10 | **0.4167** |
| Lv 20 | 9.0C | 89.0C | +20 | 0.2247 |
| Lv 30 | 14.0C | 205.0C | +30 | 0.1463 |
| Lv 50 | 30.0C | 647.0C | +50 | 0.0773 |

**특징:**
- `base_cost=1`, `multiplier=1.3` (가장 저렴)
- `effect_per_level=1` (가장 높은 효과)
- Lv10까지 24C → **가성비 최고**

---

#### attack_percent (공격력%)
| 레벨 | 다음 비용 | 누적 비용 | 총 효과 | 효율 (효과/비용) |
|------|----------|----------|---------|----------------|
| Lv 1 | 1.0C | 1.0C | +0.5% | 0.5000 |
| Lv 10 | 8.0C | 42.0C | +5% | **0.1190** |
| Lv 20 | 21.0C | 187.0C | +10% | 0.0535 |
| Lv 30 | 43.0C | 512.0C | +15% | 0.0293 |
| Lv 50 | 139.0C | 2,237.0C | +25% | 0.0112 |

**특징:**
- `multiplier=1.4`, `softcap_interval=10`
- `effect_per_level=0.5%` (base_attack의 절반)
- Lv10까지 42C → base_attack 대비 1.75배 비용

---

#### crit_chance (크리티컬 확률)
| 레벨 | 다음 비용 | 누적 비용 | 총 효과 | 효율 (효과/비용) |
|------|----------|----------|---------|----------------|
| Lv 1 | 1.0C | 1.0C | +0.1% | 0.1000 |
| Lv 10 | 23.0C | 101.0C | +1% | **0.0099** |
| Lv 20 | 111.0C | 720.0C | +2% | 0.0028 |
| Lv 30 | 419.0C | 3,224.0C | +3% | 0.0009 |
| Lv 50 | 4,507.0C | 40,355.0C | +5% | 0.0001 |

**특징:**
- `multiplier=1.6`, `softcap_interval=5` (가장 가파른 곡선)
- `effect_per_level=0.1%` (미미한 효과)
- Lv10까지 101C → base_attack 대비 4.2배 비용
- **효과 대비 비용 과다**

---

#### crit_damage (크리티컬 배율)
| 레벨 | 다음 비용 | 누적 비용 | 총 효과 | 효율 (효과/비용) |
|------|----------|----------|---------|----------------|
| Lv 1 | 2.0C | 2.0C | +0.1x | 0.0500 |
| Lv 10 | 35.0C | 146.0C | +1.0x (2x→3x) | **0.0068** |
| Lv 20 | 220.0C | 1,282.0C | +2.0x (2x→4x) | 0.0016 |
| Lv 30 | 1,054.0C | 7,096.0C | +3.0x (2x→5x) | 0.0004 |
| Lv 50 | 18,209.0C | 138,413.0C | +5.0x (2x→7x) | 0.0000 |

**특징:**
- `multiplier=1.8`, `softcap_interval=5` (매우 가파름)
- Lv10까지 146C → base_attack 대비 6.1배 비용
- 크리티컬 확률이 낮아(10%) 효과 미미

---

#### multi_hit (멀티히트 확률)
| 레벨 | 다음 비용 | 누적 비용 | 총 효과 | 효율 (효과/비용) |
|------|----------|----------|---------|----------------|
| Lv 1 | 2.0C | 2.0C | +0.1% | 0.0500 |
| Lv 10 | 35.0C | 146.0C | +1% | **0.0068** |
| Lv 20 | 220.0C | 1,282.0C | +2% | 0.0016 |
| Lv 30 | 1,054.0C | 7,096.0C | +3% | 0.0004 |
| Lv 50 | 18,209.0C | 138,413.0C | +5% | 0.0000 |

**특징:**
- crit_damage와 동일한 비용 곡선
- `effect_per_level=0.1%` (매우 미미)
- **확률이 너무 낮아 체감 불가**

---

#### time_extend (시간 연장)
| 레벨 | 다음 비용 | 누적 비용 | 총 효과 | 효율 (효과/비용) |
|------|----------|----------|---------|----------------|
| Lv 1 | 2.0C | 2.0C | +0.1초 | 0.0500 |
| Lv 10 | 52.0C | 203.0C | +1초 (30→31초) | **0.0049** |
| Lv 20 | 400.0C | 2,139.0C | +2초 (30→32초) | 0.0009 |
| Lv 30 | 2,368.0C | 14,346.0C | +3초 (30→33초) | 0.0002 |
| Lv 50 | 62,464.0C | 418,733.0C | +5초 (30→35초) | 0.0000 |

**특징:**
- `multiplier=2.0`, `softcap_interval=5` (가장 비쌈)
- Lv10까지 203C → base_attack 대비 8.5배 비용
- 효과는 있으나 **CPS를 줄이는 효과 없음** (단순 시간 증가)

---

### 비용 곡선 비교 차트

```
Lv10 누적 비용 비교 (낮은 순):
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
base_attack        24C  ██
attack_percent     42C  ████
crit_chance       101C  ██████████
crit_damage       146C  ██████████████
multi_hit         146C  ██████████████
time_extend       203C  ████████████████████
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

**결론:** `base_attack`이 압도적으로 저렴함 (최대 8.5배 차이)

---

## 2. 투자 효율 순위

### 2.1 분석 기준
- **기준 레벨:** Lv1 → Lv10 업그레이드 시
- **기준 시나리오:** Lv20 스테이지, 콤보 3스택
- **효율 지표:** 크리스탈 1,000개당 필요 CPS 감소율(%)

### 2.2 효율 순위 테이블

| 순위 | 스탯 | Lv10 비용 | 효과 | CPS 감소율 | 효율 (C1000당 감소%) |
|------|------|----------|------|-----------|-------------------|
| **1위** | 🥇 base_attack | 24C | +10 | **+50.00%** | **20.83%** |
| 2위 | 🥈 attack_percent | 42C | +5% | +4.55% | 1.08% |
| 3위 | 🥉 crit_damage | 146C | +1.0x | +9.09% | 0.62% |
| 4위 | crit_chance | 101C | +1% | +0.57% | 0.06% |
| 5위 | multi_hit | 146C | +1% | +0.57% | 0.04% |
| 6위 | time_extend | 203C | +1초 | -3.33% | -0.16% |

### 2.3 효율 분석

#### 1위: base_attack (압도적 1위)
- **CPS 감소율 50%** → 데미지 1.5배 증가
- 비용 24C → 크리스탈 1,000개당 20.83% 감소
- **2위 대비 19.3배 효율 차이**

**계산 예시:**
```
Lv20, 파워 40, 콤보 3스택
- 업그레이드 전: (40 + 0) × 8 = 320 데미지
- 업그레이드 후: (40 + 10) × 8 = 400 데미지
→ 데미지 25% 증가 = 필요 CPS 25% 감소
```

#### 2위: attack_percent
- CPS 감소율 4.55%
- 비용 42C → 효율 1.08%
- **base_attack 대비 1/19 효율**

**문제:** 초반엔 파워가 낮아(20~40) 배수 효과가 미미함

#### 3위: crit_damage
- CPS 감소율 9.09% (2x→3x)
- 비용 146C → 효율 0.62%
- **base_attack 대비 1/33 효율**

**문제:** 크리티컬 확률이 10%라 기대값이 낮음
```
crit_chance=10%, crit_multi=2.0 → 기대값 = 1 + 0.1 × (2.0 - 1) = 1.1배
crit_chance=10%, crit_multi=3.0 → 기대값 = 1 + 0.1 × (3.0 - 1) = 1.2배
→ 실제 데미지 증가는 9% (1.2/1.1)
```

#### 4~6위: 효율 극히 낮음
- `crit_chance`: 0.06% (효과 미미)
- `multi_hit`: 0.04% (확률 너무 낮음)
- `time_extend`: -0.16% (CPS 감소 효과 없음)

---

### 2.4 문제점 요약

**문제 1: 효율 불균형**
- 1위와 6위의 효율 차이 **130배**
- 플레이어는 `base_attack`만 투자하게 됨
- **선택의 다양성 부재**

**문제 2: 확률 스탯의 체감 부족**
- `crit_chance` +1%는 거의 체감 불가 (10→11%)
- `multi_hit` +1%도 동일
- 투자 대비 효과가 너무 미약

**문제 3: 시너지 부재**
- `crit_chance`와 `crit_damage`를 같이 올려야 효과적
- 하지만 둘 다 비싸서 투자 불가
- **단일 스탯 투자로는 의미 없음**

---

## 3. CPS 관점 분석

### 3.1 핵심 전제 조건

| 항목 | 값 | 설명 |
|------|-----|------|
| 기본 CPS | 5 | 일반 플레이어 초당 입력 |
| 제한 시간 | 30초 | 스테이지당 기본 시간 |
| 콤보 3스택 배율 | 8배 | (1 + 0) × 2^3 |
| 콤보 유지 전제 | 필수 | CPS 계산에 포함 |

### 3.2 필요 CPS 테이블

| 스테이지 | 일반 HP | 보스 HP | 파워 | 데미지/입력 | **필요 CPS (일반)** | **필요 CPS (보스)** | 판정 |
|---------|--------|---------|------|------------|-------------------|-------------------|------|
| **Lv 1** | 120 | 600 | 2 | 17 | 0.24 | **1.18** | 🟢 매우 여유 |
| **Lv 10** | 619 | 3,095 | 20 | 176 | 0.12 | **0.59** | 🟢 매우 여유 |
| **Lv 20** | 3,833 | 19,168 | 40 | 352 | 0.36 | **1.82** | 🟢 매우 여유 |
| **Lv 30** | 23,737 | 118,688 | 60 | 528 | 1.50 | **7.49** | 🟡 도전적 |
| **Lv 40** | 146,977 | 734,885 | 80 | 704 | 6.96 | **34.80** | 🔴 업글필수 |
| **Lv 50** | 910,043 | 4,550,219 | 100 | 880 | 34.47 | **172.36** | 🔴 업글필수 |

### 3.3 필요 CPS 판정 기준

| 필요 CPS | 판정 | 의미 | 대응 |
|----------|------|------|------|
| **< 3** | 🟢 매우 여유 | 캐주얼 플레이 가능 | 진입 단계 |
| **3~5** | 🟢 여유 | 일반 플레이어 클리어 가능 | 표준 난이도 |
| **5~8** | 🟡 도전적 | 숙련 필요 or 업글 권장 | 전환점 |
| **8~12** | 🟡 어려움 | 업그레이드 또는 time_extend 필요 | 벽 |
| **12~15** | 🔴 극한 | 최고 숙련도 필요 | 업글 필수 |
| **> 15** | 🔴 불가능 | **입력 한계 초과** | 업글 없이 불가 |

**인간 입력 한계:** 최대 15 CPS (극소수 도달)

### 3.4 레벨별 분석

#### Lv1~20: 🟢 매우 양호
- 필요 CPS < 2
- 콤보만 유지하면 여유롭게 클리어
- **튜토리얼 및 초반 진행에 이상적**

#### Lv30: 🟡 난이도 벽
- 필요 CPS 7.49 (Lv20 대비 4.1배 증가)
- 숙련된 플레이어 또는 약간의 영구 업그레이드 필요
- **첫 번째 병목 구간**

**원인:**
- HP 증가: 19,168 → 118,688 (6.19배)
- 파워 증가: 40 → 60 (1.5배)
- **파워 증가가 HP 증가를 따라가지 못함**

#### Lv40+: 🔴 업그레이드 필수
- 필요 CPS 34.80 (입력 한계의 2배 이상)
- **영구 업그레이드 없이는 진행 불가**
- 의도된 설계 (엔드게임 콘텐츠)

### 3.5 CPS 균형도 분석

**변동계수 (Coefficient of Variation):** 1.7039

```
변동계수 = 표준편차 / 평균

CPS 값: [1.18, 0.59, 1.82, 7.49, 34.80, 172.36]
평균: 36.37
표준편차: 61.98
CV = 61.98 / 36.37 = 1.7039
```

**등급:**
| CV | 등급 | 의미 |
|----|------|------|
| < 0.5 | A (우수) | 균형 잡힌 곡선 |
| 0.5~1.0 | B (양호) | 일부 편차 존재 |
| 1.0~1.5 | C (보통) | 상당한 편차 |
| > 1.5 | **D (불균형)** | **레벨 간 난이도 차이 극심** |

**현재 상태:** D등급 (1.7039)

**문제:**
- Lv30과 Lv40 사이 급격한 증가 (7.49 → 34.80, 4.6배)
- 완만한 곡선이 아닌 계단식 증가
- **플레이어 경험 일관성 부족**

---

### 3.6 영구 업그레이드 효과 시뮬레이션

**시나리오:** Lv30 보스 (HP 118,688, 필요 CPS 7.49)

| 업그레이드 | 파워 | 데미지 | 필요 CPS | CPS 감소율 |
|----------|------|--------|---------|-----------|
| 없음 (base) | 60 | 528 | 7.49 | - |
| base_attack +20 | 60 | 688 | **5.75** | -23% |
| attack_percent +10% | 60 | 581 | 6.81 | -9% |
| crit_damage +1 (3x) | 60 | 576 | 6.86 | -8% |
| **모든 업글 Lv10** | 60 | 920 | **4.30** | -43% |

**결론:**
- `base_attack` Lv20 투자 시 → 필요 CPS 7.49 → 5.75 (클리어 가능)
- 모든 스탯 Lv10 시 → 필요 CPS 4.30 (여유)
- **영구 업그레이드는 Lv30부터 필수**

---

## 4. 골드 경제 밸런스

### 4.1 레벨별 골드 수급 분석

| 레벨 | 기본 골드 | 레벨 도달 누적 비용 | **필요 몬스터수** | 스테이지 환산 |
|------|----------|-------------------|----------------|--------------|
| Lv 1 | 1.5G | 30G | **20마리** | 20스테이지 |
| Lv 10 | 15G | 978G | **65마리** | 65스테이지 |
| Lv 20 | 30G | 4,336G | **145마리** | 145스테이지 |
| Lv 30 | 45G | 12,208G | **271마리** | 271스테이지 |
| Lv 40 | 60G | 28,266G | **471마리** | 471스테이지 |
| Lv 50 | 75G | 58,728G | **783마리** | 783스테이지 |

**골드 획득 공식:**
```
base_gold = stage × 1.5
```

### 4.2 문제점 분석

#### 문제 1: 후반 그라인딩 급증
```
Lv10→20: 80마리 추가 (1.2배)
Lv20→30: 126마리 추가 (1.6배)
Lv30→40: 200마리 추가 (1.6배)
Lv40→50: 312마리 추가 (1.6배)
```
- 후반으로 갈수록 필요 몬스터수 **기하급수적 증가**
- 골드 획득량은 일정 → **불균형**

#### 문제 2: 스테이지당 골드 과소
- Lv50 기준: 75G/스테이지
- 다음 업글 비용: 3,948G
- **53스테이지 반복 필요**

#### 문제 3: 보스 드롭 부재
- 현재 보스는 골드만 드롭 (일반 몬스터와 동일)
- **보스 처치 보상이 미미**

### 4.3 개선 제안

#### 제안 A: 골드 배수 증가
```json
// config/StatFormulas.json
"constants": {
  "BASE_GOLD_MULTI": 2.0    // 1.5 → 2.0 (33% 증가)
}
```
**효과:**
- Lv50: 75G → 100G
- 필요 몬스터수: 783 → 587 (25% 감소)

#### 제안 B: 레벨별 골드 배수
```
base_gold = stage × (1.5 + stage / 100)

Lv10: 15G → 16.5G (10% 증가)
Lv30: 45G → 58.5G (30% 증가)
Lv50: 75G → 112.5G (50% 증가)
```
**효과:** 후반 그라인딩 부담 대폭 완화

#### 제안 C: 보스 골드 배수
```
보스 골드 = base_gold × 5
```
**효과:**
- 10스테이지마다 보스 처치 시 5배 골드
- **보스 처치 동기 부여**

---

## 5. 크리스탈 경제 밸런스

### 5.1 크리스탈 획득 경로

**현재 시스템:**
- 보스 처치 시 1 크리스탈 드롭 (10스테이지마다)
- 일반 몬스터는 크리스탈 드롭 없음

### 5.2 스탯별 필요 크리스탈 (Lv10 기준)

| 스탯 | Lv10 비용 | 필요 보스수 | **필요 스테이지수** |
|------|----------|-----------|-------------------|
| base_attack | 24C | 24보스 | **240스테이지** |
| attack_percent | 42C | 42보스 | **420스테이지** |
| crit_chance | 101C | 101보스 | **1,010스테이지** |
| crit_damage | 146C | 146보스 | **1,460스테이지** |
| multi_hit | 146C | 146보스 | **1,460스테이지** |
| time_extend | 203C | 203보스 | **2,030스테이지** |

### 5.3 문제점 분석

#### 문제 1: 획득 난이도 과다
- `base_attack` Lv10 = 240 스테이지 (4시간 플레이 추정)
- `crit_damage` Lv10 = 1,460 스테이지 (24시간+ 플레이)
- **캐주얼 플레이어에게 과도한 부담**

#### 문제 2: 스탯 간 격차
- `base_attack` (240) vs `time_extend` (2,030) = **8.5배 차이**
- 효율 높은 스탯만 투자 → **다양성 부재**

#### 문제 3: 크리스탈 드롭 단조로움
- 보스만 드롭 → 일반 몬스터 처치 동기 부족
- 드롭량 고정 (1개) → **예측 가능, 재미 없음**

### 5.4 개선 제안

#### 제안 A: 보스 드롭량 증가
```
보스 드롭 = 2~3 크리스탈 (랜덤)
```
**효과:**
- 필요 스테이지수 40~60% 감소
- 드롭 랜덤성으로 **재미 증가**

#### 제안 B: 일반 몬스터 드롭 추가
```
일반 몬스터 크리스탈 확률 = 5%
드롭량 = 1 크리스탈
```
**효과:**
- 100마리당 5 크리스탈 추가 획득
- **그라인딩 동기 부여**

#### 제안 C: 스테이지 클리어 보너스
```
10스테이지 클리어 시 = 추가 2 크리스탈
20스테이지 클리어 시 = 추가 5 크리스탈
50스테이지 클리어 시 = 추가 10 크리스탈
```
**효과:** 진행 목표 제공

#### 제안 D: 비용 조정
```json
// 비효율 스탯 비용 하향
"crit_chance": { "multiplier": 1.4 },   // 1.6 → 1.4
"time_extend": { "multiplier": 1.6 }    // 2.0 → 1.6
```
**효과:** Lv10 비용 30~40% 감소

---

## 6. 밸런스 종합 평가

### 6.1 밸런스 체크리스트

| 항목 | 목표 | 현재 상태 | 평가 |
|------|------|----------|------|
| **초반 진입성 (Lv1~10)** | 필요 CPS < 2 | 0.59~1.18 | 🟢 통과 |
| **초중반 (Lv10~20)** | 필요 CPS < 3 | 1.82 | 🟢 통과 |
| **중반 (Lv20~30)** | 필요 CPS < 8 | 7.49 | 🟡 경계선 |
| **후반 진입 (Lv30)** | 업글로 CPS < 5 가능 | 가능 (4.30) | 🟢 통과 |
| **엔드게임 (Lv40+)** | 업글 필수 설계 | 필요 CPS > 15 | 🟢 의도대로 |
| **스탯 효율 균형** | 최대 3배 이내 | 최대 20배 | 🔴 불합격 |
| **골드 경제** | 레벨당 < 100마리 | Lv50 783마리 | 🟡 과도 |
| **크리스탈 경제** | Lv10 < 200스테이지 | 24~203 | 🟢~🔴 스탯별 차이 |

### 6.2 밸런스 등급

| 영역 | 등급 | 점수 | 상세 |
|------|------|------|------|
| **초반 밸런스** | 🟢 A | 95/100 | 매우 우수 - 진입장벽 낮음 |
| **중반 밸런스** | 🟡 C | 70/100 | Lv30 벽 존재, 급격한 증가 |
| **후반 설계** | 🟢 A | 90/100 | 업그레이드 의존도 적절 |
| **스탯 다양성** | 🔴 D | 40/100 | base_attack 편중 심각 |
| **골드 경제** | 🟡 C | 65/100 | 후반 그라인딩 과다 |
| **크리스탈 경제** | 🟡 C | 70/100 | 획득 난이도 다소 높음 |

**종합 점수:** 71.7/100 (C등급)

---

## 7. 문제점 및 개선 제안 요약

### 7.1 Critical (즉시 수정 권장)

#### 🚨 문제 1: base_attack 효율 불균형
**현상:**
- 효율이 2위 대비 19.3배, 최하위 대비 130배 차이
- 플레이어가 base_attack만 투자 → **선택 다양성 부재**

**원인:**
- 가장 저렴한 비용 (`multiplier=1.3`)
- 가장 높은 효과 (`effect_per_level=1`)
- 가산 데미지로 직접적 DPS 증가

**해결책:**
```json
// config/PermanentStatGrowth.json
"base_attack": {
  "base_cost": 1,
  "growth_rate": 0.3,
  "multiplier": 1.6,        // 1.3 → 1.6 (비용 증가)
  "softcap_interval": 15,   // 20 → 15 (곡선 가팔라짐)
  "effect_per_level": 1
}
```

**효과:**
- Lv10 비용: 24C → 약 42C (75% 증가)
- 효율: 20.83% → 12.0% (다른 스탯과 균형)

**예상 영향:**
- 플레이어가 다른 스탯 투자 고려
- 빌드 다양성 증가
- 초반 크리스탈 부담 증가 (완화 방안 필요)

---

### 7.2 High (우선 수정 권장)

#### ⚠️ 문제 2: Lv30 난이도 벽
**현상:**
- Lv20: 필요 CPS 1.82 (여유)
- Lv30: 필요 CPS 7.49 (**4.1배 급증**)

**원인:**
- HP 증가: 1.2^10 = 6.19배
- 파워 증가: 1.5배 (40→60)
- **HP 증가 >> 파워 증가**

**해결책 A: HP 증가율 완화**
```json
// config/StatFormulas.json
"constants": {
  "HP_GROWTH": 1.18    // 1.2 → 1.18 (감소)
}
```
**효과:**
- Lv30 보스 HP: 118,688 → 약 90,000 (24% 감소)
- 필요 CPS: 7.49 → 5.68 (도전적 → 적정)

**해결책 B: 영구 업그레이드 효과 증가**
```json
"base_attack": { "effect_per_level": 2 },      // 1 → 2 (2배)
"attack_percent": { "effect_per_level": 1 }    // 0.5 → 1 (2배)
```
**효과:**
- 동일 비용으로 2배 효과
- 영구 업그레이드 체감 증가

**권장:** 해결책 B (영구 업그레이드 강화)
- HP 감소는 전체 밸런스 영향 큼
- 업그레이드 강화는 플레이어 파워 증가로 자연스러움

---

#### ⚠️ 문제 3: 다른 스탯 효율 과소
**현상:**
- `attack_percent`, `crit_damage` 등이 투자 대비 효과 미미
- 크리스탈 획득 난이도 대비 체감 부족

**해결책:**
```json
// config/PermanentStatGrowth.json

// 공격력% 효과 증가
"attack_percent": {
  "effect_per_level": 1    // 0.5 → 1 (2배)
},

// 크리티컬 배율 효과 증가
"crit_damage": {
  "effect_per_level": 0.15    // 0.1 → 0.15 (1.5배)
},

// 크리티컬 확률 비용 감소
"crit_chance": {
  "multiplier": 1.4,    // 1.6 → 1.4 (비용 감소)
  "effect_per_level": 0.15    // 0.1 → 0.15 (효과 증가)
},

// 멀티히트 효과 대폭 증가
"multi_hit": {
  "effect_per_level": 0.5    // 0.1 → 0.5 (5배)
}
```

**효과:**
- 각 스탯의 효율 1.5~5배 증가
- `base_attack`과의 격차 완화
- 빌드 다양성 확보

---

### 7.3 Medium (개선 권장)

#### 📌 문제 4: 골드 경제 후반 부담
**해결책:**
```json
// config/StatFormulas.json
"constants": {
  "BASE_GOLD_MULTI": 2.0    // 1.5 → 2.0 (33% 증가)
}
```
또는 레벨 스케일링 추가:
```javascript
base_gold = stage * (1.5 + stage / 100)
```

**효과:**
- Lv50 필요 몬스터: 783 → 587 (25% 감소)

---

#### 📌 문제 5: 크리스탈 획득 단조로움
**해결책:**
```
1. 보스 드롭량 증가: 2~3 크리스탈 (랜덤)
2. 일반 몬스터 드롭: 5% 확률로 1 크리스탈
3. 마일스톤 보너스: 10/20/50 스테이지 클리어 시 추가 크리스탈
```

**효과:**
- 획득 속도 1.5~2배 증가
- 드롭 재미 증가

---

### 7.4 Low (선택적 개선)

#### 💡 문제 6: time_extend 효율 문제
**현상:**
- 시간 연장은 CPS를 낮추지 않음 (단순 시간 증가)
- 콤보 유지 난이도 동일
- **투자 효율 최하위**

**해결책 A: 효과 재설계**
```
시간 연장이 아닌 "시간 도둑" 스킬로 변경
→ 몬스터 처치 시 +0.5초 (최대 2배까지)
```

**해결책 B: 비용 대폭 하향**
```json
"time_extend": {
  "multiplier": 1.4,    // 2.0 → 1.4
  "softcap_interval": 10    // 5 → 10
}
```

**권장:** 해결책 B (비용 하향)

---

## 8. 적용 우선순위 및 로드맵

### Phase 1: 긴급 (1주일 이내)
1. **base_attack 비용 조정** (multiplier 1.3→1.6)
2. **attack_percent 효과 증가** (effect 0.5→1)
3. **crit_damage 효과 증가** (effect 0.1→0.15)

**목표:** 스탯 효율 균형 확보

---

### Phase 2: 우선 (2주일 이내)
4. **골드 배수 증가** (BASE_GOLD_MULTI 1.5→2.0)
5. **보스 크리스탈 드롭 증가** (1→2~3 랜덤)
6. **crit_chance 비용 감소** (multiplier 1.6→1.4)
7. **multi_hit 효과 증가** (effect 0.1→0.5)

**목표:** 경제 밸런스 개선, 추가 스탯 활성화

---

### Phase 3: 개선 (1개월 이내)
8. **HP_GROWTH 완화 검토** (1.2→1.18)
9. **일반 몬스터 크리스탈 드롭** (5% 확률)
10. **time_extend 비용 하향** (multiplier 2.0→1.4)
11. **마일스톤 크리스탈 보너스** 추가

**목표:** 장기 플레이 경험 개선

---

## 9. 적용 방법

### 9.1 공식 수정 절차 (CRITICAL)

**⚠️ 필수 규칙:**
- **절대로 생성된 코드를 직접 수정하지 마세요!**
- 모든 변경은 `config/StatFormulas.json` 또는 `config/PermanentStatGrowth.json`에서만 수행

```bash
# 1. 설정 파일 수정
notepad config/PermanentStatGrowth.json

# 2. 코드 생성기 실행
python tools/generate_stat_code.py

# 3. 검증 테스트
python tools/test_stat_formulas.py

# 4. C# 빌드 확인
dotnet build

# 5. 게임 테스트
# - Lv10, 20, 30 보스 처치 시간 확인
# - 크리스탈 획득량 확인
```

### 9.2 Phase 1 적용 예시

```json
// config/PermanentStatGrowth.json

{
  "stats": {
    "base_attack": {
      "name": "기본 공격력",
      "base_cost": 1,
      "growth_rate": 0.3,
      "multiplier": 1.6,        // 변경: 1.3 → 1.6
      "softcap_interval": 15,   // 변경: 20 → 15
      "effect_per_level": 1
    },
    "attack_percent": {
      "name": "공격력 배수",
      "base_cost": 1,
      "growth_rate": 0.5,
      "multiplier": 1.4,
      "softcap_interval": 10,
      "effect_per_level": 1     // 변경: 0.5 → 1
    },
    "crit_damage": {
      "name": "크리티컬 배율",
      "base_cost": 1,
      "growth_rate": 1.0,
      "multiplier": 1.8,
      "softcap_interval": 5,
      "effect_per_level": 0.15  // 변경: 0.1 → 0.15
    }
  }
}
```

```bash
# 적용
python tools/generate_stat_code.py
python tools/test_stat_formulas.py
dotnet build
```

---

## 10. 예상 효과

### 10.1 Phase 1 적용 후

#### 스탯 효율 순위 변화 (예상)
| 순위 | 스탯 | 현재 효율 | 변경 후 효율 | 변화 |
|------|------|----------|-------------|------|
| 1위 | base_attack | 20.83% | **12.0%** | ↓ 42% |
| 2위 | attack_percent | 1.08% | **4.8%** | ↑ 344% |
| 3위 | crit_damage | 0.62% | **0.93%** | ↑ 50% |

**효율 격차:** 20배 → **약 4배** (80% 개선)

#### 플레이어 경험 변화
- **Before:** base_attack에만 크리스탈 투자
- **After:** attack_percent, crit_damage도 고려 대상
- **선택의 다양성:** 1개 → 3개 스탯

#### Lv30 벽 완화
- **Before:** 필요 CPS 7.49 (업글 필수)
- **After:** 업그레이드 효과 증가로 필요 CPS 약 5.0 (적정)

---

### 10.2 전체 Phase 적용 후

#### 밸런스 등급 변화 예상
| 영역 | 현재 | 예상 | 개선 |
|------|------|------|------|
| 초반 밸런스 | A | A | 유지 |
| 중반 밸런스 | C | **B** | +1등급 |
| 후반 설계 | A | A | 유지 |
| 스탯 다양성 | D | **B** | +2등급 |
| 골드 경제 | C | **B** | +1등급 |
| 크리스탈 경제 | C | **A** | +2등급 |

**종합 점수:** 71.7점 → **85.0점 (B등급)**

---

## 11. 모니터링 KPI

### 11.1 추적 지표

| KPI | 현재값 | 목표값 | 측정 방법 |
|-----|--------|--------|----------|
| **스탯 효율 격차** | 20배 | **< 5배** | 최고/최저 효율 비율 |
| **Lv30 필요 CPS** | 7.49 | **< 6.0** | 시뮬레이션 |
| **Lv20 도달 시간** | - | < 1시간 | 플레이 데이터 |
| **base_attack 투자 비율** | ~90% | **< 50%** | 업그레이드 로그 |
| **Lv50 도달 플레이어** | - | > 10% | 세션 데이터 |
| **크리스탈 획득 속도** | 1C/10스테이지 | **2~3C/10스테이지** | 드롭 로그 |

### 11.2 모니터링 방법

```python
# tools/balance_monitor.py (신규 생성 권장)

import json
from datetime import datetime

def monitor_balance():
    # 1. 효율 격차 측정
    efficiencies = calculate_all_stat_efficiencies()
    ratio = max(efficiencies) / min(efficiencies)

    # 2. 필요 CPS 측정
    cps_lv30 = calculate_required_cps(stage=30, upgrades=baseline)

    # 3. 리포트 생성
    report = {
        "date": datetime.now().isoformat(),
        "efficiency_ratio": ratio,
        "cps_lv30": cps_lv30,
        "status": "OK" if ratio < 5 and cps_lv30 < 6 else "WARN"
    }

    with open("balanceDoc/monitor_log.json", "a") as f:
        f.write(json.dumps(report) + "\n")
```

---

## 12. 리스크 분석

### 12.1 Phase 1 리스크

#### 리스크 1: 초반 크리스탈 부족 체감
**발생 가능성:** 중
**영향도:** 중

**원인:**
- `base_attack` 비용 증가 → 초반 업그레이드 부담

**완화 방안:**
- 튜토리얼에서 크리스탈 10개 지급
- 첫 보스 3마리 처치 시 보너스 크리스탈 5개
- 로그인 보너스 추가

---

#### 리스크 2: 기존 플레이어 반발
**발생 가능성:** 낮
**영향도:** 중

**원인:**
- 이미 `base_attack`에 많은 투자를 한 플레이어

**완화 방안:**
- 업데이트 시 크리스탈 환급 (기존 투자의 20%)
- 다른 스탯 버프로 상대적 손해 최소화
- 패치 노트에서 충분한 설명

---

### 12.2 Phase 2~3 리스크

#### 리스크 3: 인플레이션
**발생 가능성:** 중
**영향도:** 낮

**원인:**
- 골드/크리스탈 획득량 증가 → 경제 밸런스 붕괴

**완화 방안:**
- 단계적 적용 (한 번에 33% 이상 증가 금지)
- 플레이 데이터 모니터링
- 필요시 롤백

---

## 13. 결론

### 13.1 현재 상태
DeskWarrior의 현재 밸런스는 **C등급 (71.7/100)**입니다.

**강점:**
- 🟢 초반 진입성 우수 (Lv1~20)
- 🟢 후반 엔드게임 설계 적절 (Lv40+)
- 🟢 기본 공식 체계 탄탄함

**약점:**
- 🔴 스탯 효율 불균형 심각 (`base_attack` 편중)
- 🔴 Lv30 난이도 벽
- 🟡 골드/크리스탈 경제 개선 필요

---

### 13.2 권장 사항
**즉시 적용 (Phase 1):**
1. `base_attack` 비용 상향 (multiplier 1.3→1.6)
2. `attack_percent` 효과 증가 (effect 0.5→1)
3. `crit_damage` 효과 증가 (effect 0.1→0.15)

**우선 적용 (Phase 2):**
4. 골드 배수 증가 (1.5→2.0)
5. 보스 크리스탈 드롭 증가 (1→2~3)
6. 추가 스탯 버프 (crit_chance, multi_hit)

**선택 적용 (Phase 3):**
7. HP 증가율 완화 검토
8. 크리스탈 드롭 다양화
9. 시간 연장 스탯 재설계

---

### 13.3 기대 효과
전체 Phase 적용 시:
- 스탯 효율 격차: 20배 → **5배 이하** (80% 개선)
- 스탯 다양성: D → **B등급** (+2등급)
- 종합 밸런스: C → **B등급** (+1등급)
- 플레이어 선택 다양성 **3배 증가**

---

### 13.4 최종 의견
현재 밸런스는 **플레이 가능하나 개선 필요** 상태입니다.
**Phase 1 조치는 즉시 적용을 권장**하며, Phase 2~3는 플레이 데이터 모니터링 후 단계적 적용을 추천합니다.

특히 **스탯 효율 불균형**은 게임의 재미와 직결되므로 최우선 과제로 처리해야 합니다.

---

**보고서 작성:** 2026-01-27
**작성자:** Game Balance Analyst Agent
**다음 리뷰:** Phase 1 적용 후 1주일 이내

---

## 부록 A: 참고 데이터

### A.1 공식 정의 위치
```
config/StatFormulas.json          # 모든 계산 공식
config/PermanentStatGrowth.json   # 영구 업그레이드 파라미터
config/InGameStatGrowth.json      # 인게임 업그레이드 파라미터
```

### A.2 코드 생성기
```
tools/generate_stat_code.py       # 공식 코드 생성
tools/stat_formulas_generated.py  # Python 공식 (자동 생성)
Helpers/StatFormulas.Generated.cs # C# 공식 (자동 생성)
```

### A.3 밸런스 계산 도구
```
tools/balance_analysis_full.py    # 이 보고서 생성 스크립트
tools/test_stat_formulas.py       # 공식 검증
```

---

## 부록 B: 변경 이력

| 날짜 | 버전 | 변경 내용 |
|------|------|----------|
| 2026-01-27 | v1.0 | 초기 밸런스 분석 리포트 작성 |

---

**End of Report**
